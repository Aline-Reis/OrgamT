<!doctype html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Organt â€” Meu dia</title>
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <link rel="stylesheet" th:href="@{/css/dashboard.css}">
</head>
<body>

<header class="topbar">
    <a th:href="@{/estatisticas}" class="link" aria-label="EstatÃ­sticas" title="EstatÃ­sticas">ğŸ“Š</a>
    <div class="user-name" th:text="${nome}">UsuÃ¡rio</div>
    <a th:href="@{/perfil}" class="avatar" aria-label="Perfil" title="Perfil">ğŸ‘¤</a>
</header>

<main class="dash">
    <h1 class="hero-title">
        Meu dia <span class="sun" aria-hidden="true">â˜€ï¸</span>
    </h1>
    <img th:src="@{/images/logo.png}" alt="Organt" class="hero-logo">
    <div class="hero-icon" aria-hidden="true">ğŸ“…</div>

    <!-- SubtÃ­tulo -->
    <p class="hero-subtitle">
        â€œOrganize seu dia em segundos.â€
    </p>

    <!-- BotÃ£o para criar nova tarefa -->
    <div class="dash-cta">
        <a th:href="@{/tarefas(nova=1)}" class="btn btn-outline">+ Nova tarefa</a>
    </div>

    <!-- ===== NOVO BLOCO: Tarefas marcadas para hoje ===== -->
    <section class="card" style="width: min(860px, 92vw); margin-top: 18px;">
        <div class="row" style="margin-bottom: 8px;">
            <h2 style="font-size:1.1rem; margin:0;">
                Tarefas de hoje
            </h2>
            <!-- data de hoje (opcional) -->
            <span style="font-size:0.9rem; color:#6b7280;"
                  th:text="${#temporals.format(hoje, 'dd/MM/yyyy')}">
                00/00/0000
            </span>
        </div>

        <!-- Se nÃ£o tiver tarefas para hoje -->
        <p th:if="${#lists.isEmpty(tarefasHoje)}"
           style="font-size:0.95rem; color:#6b7280; margin: 4px 0 0;">
            VocÃª nÃ£o tem tarefas marcadas para hoje. âœ¨
        </p>

        <!-- Lista de tarefas de hoje -->
        <ul class="list" th:if="${!#lists.isEmpty(tarefasHoje)}">
            <li class="item" th:each="t : ${tarefasHoje}">
                <div class="row">
                    <div>
                        <!-- tÃ­tulo -->
                        <strong th:text="${t.titulo}">TÃ­tulo da tarefa</strong>

                        <div style="font-size:0.9rem; margin-top:4px;">
                            <!-- Prioridade -->
                            <span>
                                Prioridade:
                                <span th:text="${t.prioridade}">MEDIA</span>
                            </span>

                            <span> Â· </span>

                            <!-- Status -->
                            <span>
                                Status:
                                <span th:text="${t.status}">ABERTA</span>
                            </span>
                        </div>
                    </div>

                    <!-- aÃ§Ã£o rÃ¡pida: ir para a tela de tarefas completa -->
                    <div>
                        <a th:href="@{/tarefas}"
                           class="btn btn-primary"
                           style="padding-inline:14px; font-size:0.85rem;">
                            Ver todas
                        </a>
                    </div>
                </div>
            </li>
        </ul>
    </section>

</main>

<script src="/js/ui-buttons.js" defer></script>
</body>
</html>
