<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/OrgTask/src/main/java/br/edu/ifto/OrgTask/config/SecurityConfig.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/OrgTask/src/main/java/br/edu/ifto/OrgTask/config/SecurityConfig.java" />
              <option name="originalContent" value="package br.edu.ifto.OrgTask.config;&#10;&#10;import br.edu.ifto.OrgTask.repository.UsuarioRepository;&#10;import org.springframework.context.annotation.Bean;&#10;import org.springframework.context.annotation.Configuration;&#10;import org.springframework.security.config.annotation.web.builders.HttpSecurity;&#10;import org.springframework.security.core.userdetails.User;&#10;import org.springframework.security.core.userdetails.UserDetailsService;&#10;import org.springframework.security.core.userdetails.UsernameNotFoundException;&#10;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;&#10;import org.springframework.security.web.SecurityFilterChain;&#10;&#10;@Configuration&#10;public class SecurityConfig {&#10;&#10;    @Bean&#10;    public BCryptPasswordEncoder passwordEncoder(){&#10;        return new BCryptPasswordEncoder();&#10;    }&#10;&#10;    @Bean&#10;    public UserDetailsService userDetailsService(UsuarioRepository repo){&#10;        return username -&gt; repo.findByEmailCpf(username)&#10;                .map(u -&gt; User.withUsername(u.getEmailCpf())&#10;                        .password(u.getSenhaHash())&#10;                        .roles(&quot;USER&quot;)&#10;                        .build())&#10;                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Usuário não encontrado&quot;));&#10;    }&#10;&#10;    @Bean&#10;    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {&#10;        http&#10;                .csrf(csrf -&gt; csrf.disable())&#10;                .authorizeHttpRequests(auth -&gt; auth&#10;                        // permitir recursos estáticos, páginas públicas e a página inicial (&quot;/&quot;)&#10;                        .requestMatchers(&quot;/&quot;,&quot;/css/**&quot;,&quot;/js/**&quot;,&quot;/images/**&quot;, &quot;/login&quot;,&quot;/cadastro&quot;,&quot;/signup&quot;,&quot;/h2/**&quot;).permitAll()&#10;                        .anyRequest().authenticated())&#10;                .headers(h -&gt; h.frameOptions(f -&gt; f.disable())) // permite H2 console&#10;                .formLogin(f -&gt; f&#10;                        .loginPage(&quot;/login&quot;)&#10;                        .defaultSuccessUrl(&quot;/tarefas&quot;, true)&#10;                        .permitAll())&#10;                .logout(l -&gt; l&#10;                        .logoutUrl(&quot;/logout&quot;)&#10;                        .logoutSuccessUrl(&quot;/login?logout&quot;)&#10;                        .permitAll());&#10;        return http.build();&#10;    }&#10;}" />
              <option name="updatedContent" value="package br.edu.ifto.OrgTask.config;&#13;&#10;&#13;&#10;import br.edu.ifto.OrgTask.repository.UsuarioRepository;&#13;&#10;import org.springframework.context.annotation.Bean;&#13;&#10;import org.springframework.context.annotation.Configuration;&#13;&#10;import org.springframework.security.config.annotation.web.builders.HttpSecurity;&#13;&#10;import org.springframework.security.core.userdetails.User;&#13;&#10;import org.springframework.security.core.userdetails.UserDetailsService;&#13;&#10;import org.springframework.security.core.userdetails.UsernameNotFoundException;&#13;&#10;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;&#13;&#10;import org.springframework.security.web.SecurityFilterChain;&#13;&#10;&#13;&#10;@Configuration&#13;&#10;public class SecurityConfig {&#13;&#10;&#13;&#10;    @Bean&#13;&#10;    public BCryptPasswordEncoder passwordEncoder(){&#13;&#10;        return new BCryptPasswordEncoder();&#13;&#10;    }&#13;&#10;&#13;&#10;    @Bean&#13;&#10;    public UserDetailsService userDetailsService(UsuarioRepository repo){&#13;&#10;        return username -&gt; repo.findByEmailCpf(username)&#13;&#10;                .map(u -&gt; User.withUsername(u.getEmailCpf())&#13;&#10;                        .password(u.getSenhaHash())&#13;&#10;                        .roles(&quot;USER&quot;)&#13;&#10;                        .build())&#13;&#10;                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Usuário não encontrado&quot;));&#13;&#10;    }&#13;&#10;&#13;&#10;    @Bean&#13;&#10;    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {&#13;&#10;        http&#13;&#10;                .csrf(csrf -&gt; csrf.disable())&#13;&#10;                .authorizeHttpRequests(auth -&gt; auth&#13;&#10;                        // permitir recursos estáticos, páginas públicas e a página inicial (&quot;/&quot;)&#13;&#10;                        .requestMatchers(&quot;/&quot;,&quot;/css/**&quot;,&quot;/js/**&quot;,&quot;/images/**&quot;, &quot;/login&quot;,&quot;/cadastro&quot;,&quot;/signup&quot;,&quot;/h2/**&quot;).permitAll()&#13;&#10;                        .anyRequest().authenticated())&#13;&#10;                .headers(h -&gt; h.frameOptions(f -&gt; f.disable())) // permite H2 console&#13;&#10;                .formLogin(f -&gt; f&#13;&#10;                        .loginPage(&quot;/login&quot;)&#13;&#10;                        .defaultSuccessUrl(&quot;/tarefas&quot;, true)&#13;&#10;                        .permitAll())&#13;&#10;                .logout(l -&gt; l&#13;&#10;                        .logoutUrl(&quot;/logout&quot;)&#13;&#10;                        .logoutSuccessUrl(&quot;/login?logout&quot;)&#13;&#10;                        .permitAll());&#13;&#10;        return http.build();&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/OrgTask/src/main/resources/templates/home.html">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/OrgTask/src/main/resources/templates/home.html" />
              <option name="originalContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;pt-br&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;&#10;    &lt;title&gt;OrgamT&lt;/title&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/app.css}&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10; &lt;section class=&quot;landing&quot;&gt;&#10;     &lt;img th:src=&quot;@{/images/logo.png}&quot; alt=&quot;Logo OrgamT&quot; class=&quot;landing-logo&quot;&gt;&#10;     &lt;p class=&quot;landing-subtitle&quot;&gt;Gerencie suas tarefas.&lt;/p&gt;&#10;&#10;     &lt;img th:src=&quot;@{/images/logoSimples.png}&quot; alt=&quot;Logo Simples OrgamT&quot; class=&quot;landing-hero-img&quot;&gt;&#10;&#10;     &lt;div class=&quot;landing-actions&quot;&gt;&#10;         &lt;a th:href=&quot;@{/login}&quot; class=&quot;btn btn-primary btn-block&quot;&gt;Entrar&lt;/a&gt;&#10;         &lt;a th:href=&quot;@{/cadastro}&quot; class=&quot;btn btn-outline btn-block&quot;&gt;Criar conta&lt;/a&gt;&#10;     &lt;/div&gt;&#10;&#10; &lt;/section&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
              <option name="updatedContent" value="&lt;!DOCTYPE html&gt;&#10;&lt;html lang=&quot;pt-br&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#10;&lt;head&gt;&#10;    &lt;meta charset=&quot;UTF-8&quot;&gt;&#10;    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;&#10;    &lt;title&gt;OrgamT&lt;/title&gt;&#10;    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/app.css}&quot;&gt;&#10;&lt;/head&gt;&#10;&lt;body&gt;&#10; &lt;section class=&quot;landing&quot;&gt;&#10;     &lt;img th:src=&quot;@{/images/logo.png}&quot; alt=&quot;Logo OrgamT&quot; class=&quot;landing-logo&quot;&gt;&#10;     &lt;p class=&quot;landing-subtitle&quot;&gt;Gerencie suas tarefas.&lt;/p&gt;&#10;&#10;     &lt;img th:src=&quot;@{/images/logoSimples.png}&quot; alt=&quot;Logo Simples OrgamT&quot; class=&quot;landing-hero-img&quot;&gt;&#10;&#10;     &lt;div class=&quot;landing-actions&quot;&gt;&#10;         &lt;a th:href=&quot;@{/login}&quot; class=&quot;btn btn-primary btn-block&quot;&gt;Entrar&lt;/a&gt;&#10;         &lt;a th:href=&quot;@{/cadastro}&quot; class=&quot;btn btn-outline btn-block&quot;&gt;Criar conta&lt;/a&gt;&#10;     &lt;/div&gt;&#10;&#10; &lt;/section&gt;&#10;&lt;/body&gt;&#10;&lt;/html&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>